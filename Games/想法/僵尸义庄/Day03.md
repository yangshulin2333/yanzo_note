
# Unityå­¦ä¹ ç¬”è®° Day 3ï¼šåƒµå°¸è‡ªåŠ¨å¯»è·¯ (Zombie Pathfinding)

**æ ¸å¿ƒä»»åŠ¡**ï¼šè®©åƒµå°¸èƒ½å¤Ÿæ™ºèƒ½é¿å¼€éšœç¢ç‰©ï¼Œè‡ªåŠ¨è¿½è¸ªç©å®¶ã€‚

## 1. æ ¸å¿ƒåŸç†ï¼šNavMesh (å¯¼èˆªç½‘æ ¼)
Unity å†…ç½®çš„ AI å¯»è·¯ç³»ç»Ÿã€‚
* **åŸç†**ï¼šé€šè¿‡â€œçƒ˜ç„™â€ (Bake) åœ°å½¢ï¼Œè®¡ç®—å‡ºè“è‰²çš„â€œå¯è¡Œèµ°åŒºåŸŸâ€ã€‚
* **ä½œç”¨**ï¼šAI åªèƒ½åœ¨è“è‰²åŒºåŸŸå†…ç§»åŠ¨ï¼Œä¼šè‡ªåŠ¨ç»•å¼€æ²¡çƒ˜ç„™çš„éšœç¢ç‰©ï¼ˆå¢™å£ã€ç®±å­ï¼‰ã€‚

---

## 2. æ“ä½œæ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šçƒ˜ç„™åœ°å½¢ (Bake)
#### 1. æŒ‚è½½ç»„ä»¶
* åœ¨ Hierarchy ä¸­é€‰ä¸­**åœ°é¢ (Plane)**ï¼ˆæˆ–è€…ä½ æƒ³è®© AI è¡Œèµ°çš„é‚£ä¸ªç‰©ä½“ï¼‰ã€‚
* ç‚¹å‡» `Add Component`ï¼Œæœç´¢å¹¶æ·»åŠ  **`NavMesh Surface`** ç»„ä»¶ã€‚

#### 2. è®¾ç½®èŒƒå›´ (å…³é”®ç‚¹)
* æ‰¾åˆ° `NavMesh Surface` ç»„ä»¶é‡Œçš„ **Collect Objects** é€‰é¡¹ã€‚
* æ”¹ä¸º **`All Game Objects`**ã€‚
    * *ä½œç”¨ï¼šè®©çƒ˜ç„™å™¨ä¸ä»…ä»…çœ‹åœ°é¢ï¼Œè¿˜è¦æŠŠæ”¾åœ¨åœ°é¢ä¸Šçš„éšœç¢ç‰©ï¼ˆå¦‚å¢™å£ã€ç®±å­ï¼‰ä¹Ÿç®—è¿›å»ã€‚å¦‚æœä¸æ”¹è¿™ä¸ªï¼Œåƒµå°¸å¯èƒ½ä¼šç©¿å¢™ã€‚*

#### 3. æ‰§è¡Œçƒ˜ç„™
* ç‚¹å‡»ç»„ä»¶åº•éƒ¨çš„ **Bake** æŒ‰é’®ã€‚
* **ç°è±¡**ï¼šåœ°é¢å˜è“ï¼Œä¸”è“è‰²åŒºåŸŸä¼šè‡ªåŠ¨é¿å¼€éšœç¢ç‰©ã€‚

---

**ğŸ’¡ å°è´´å£«**ï¼š
ä»¥åæ¯æ¬¡ä¿®æ”¹äº†åœ°å½¢æˆ–ç§»åŠ¨äº†éšœç¢ç‰©ï¼Œä¸éœ€è¦å»å¼€çª—å£ï¼Œç›´æ¥é€‰ä¸­åœ°é¢ï¼Œç‚¹ä¸€ä¸‹è¿™ä¸ªç»„ä»¶é‡Œçš„ `Bake` å³å¯åˆ·æ–°åœ°å›¾ã€‚

### ç¬¬äºŒæ­¥ï¼šé…ç½®åƒµå°¸ (NavMesh Agent)
1.  é€‰ä¸­åœºæ™¯é‡Œçš„ **Zombie** (åœ†æŸ±ä½“)ã€‚
2.  ç‚¹å‡» `Add Component`ï¼Œæœç´¢å¹¶æ·»åŠ  **NavMesh Agent** ç»„ä»¶ã€‚
3.  **å…³é”®å‚æ•°**ï¼š
    * `Speed`ï¼šç§»åŠ¨é€Ÿåº¦ (ä¾‹å¦‚ 3.5)ã€‚
    * `Stopping Distance`ï¼šåœæ­¢è·ç¦» (ä¾‹å¦‚ 1.5ï¼Œé˜²æ­¢åƒµå°¸è·Ÿç©å®¶è´´è„¸ç©¿æ¨¡)ã€‚

---

## 3. ä»£ç é©±åŠ¨ (ZombieController.cs)

**æ ¸å¿ƒé€»è¾‘**ï¼šè·å– Agent ç»„ä»¶ -> æ¯å¸§æ›´æ–°ç›®æ ‡ä½ç½®ã€‚

```csharp
using UnityEngine;
using UnityEngine.AI; // âš ï¸ 1. å¿…é¡»å¼•å…¥è¿™ä¸ªå‘½åç©ºé—´ï¼

public class ZombieController : MonoBehaviour
{
    private NavMeshAgent agent; // å®šä¹‰ä»£ç†ç»„ä»¶
    
    // è®°å¾—åœ¨ Inspector é‡ŒæŠŠ Player æ‹–è¿›å»
    public Transform player;    

    void Start()
    {
        // 2. è·å–èº«ä¸Šçš„ NavMeshAgent ç»„ä»¶
        agent = GetComponent<NavMeshAgent>();
    }

    void Update()
    {
        // 3. æ¯ä¸€å¸§éƒ½å‘Šè¯‰åƒµå°¸ï¼šå»ç©å®¶ç°åœ¨çš„ä½ç½®
        // SetDestination ä¼šè‡ªåŠ¨è®¡ç®—æœ€çŸ­è·¯å¾„å¹¶ç»•å¼€éšœç¢
        if (player != null)
        {
            agent.SetDestination(player.position);
        }
    }
}
````

---

## 4. å¸¸è§é—®é¢˜ (Debug)

- **åƒµå°¸ä¸åŠ¨**ï¼š
    
    1. æ£€æŸ¥æœ‰æ²¡æœ‰ç»™ä»£ç é‡Œçš„ `Player` å˜é‡èµ‹å€¼ï¼ˆæ‹–æ‹½ä¸»è§’ï¼‰ã€‚
        
    2. æ£€æŸ¥åœ°é¢æ˜¯ä¸æ˜¯å˜è“äº†ï¼ˆNavMesh æ˜¯å¦çƒ˜ç„™æˆåŠŸï¼‰ã€‚
        
    3. æ£€æŸ¥åƒµå°¸æœ‰æ²¡æœ‰å¡åœ¨åœ°æ¿ä¸‹é¢ï¼ˆYè½´ä½ç½®ä¸å¯¹ï¼‰ã€‚
        
- **åƒµå°¸ç©¿å¢™**ï¼š
    
    - è¯´æ˜å¢™å£æ²¡æœ‰å‹¾é€‰ `Static`ï¼Œæˆ–è€…å‹¾é€‰åå¿˜è®°é‡æ–°ç‚¹ `Bake` äº†ã€‚