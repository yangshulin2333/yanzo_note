- [x] 已完成任务
- [ ] 未完成任务
- [ ] 待办事项






GooseMind/
│
├── core/                # 【核心逻辑层】存放高内聚的功能模块
│   ├── __init__.py
│   ├── capture.py       # 专门负责：找窗口、截屏（高频采集引擎）
│   └── vision.py        # 专门负责：图像处理、OCR、特征比对
│
├── data/                # 【数据层】存放配置和静态资源
│   ├── config.py        # 存放 API Key、窗口标题、坐标等配置
│   └── assets/          # 存放用于比对的图标素材（如“组局”按钮截图）
│
├── logs/                # 【日志层】存放对局记录
│
└── main.py              # 【启动入口】低耦合的指挥官，负责调用各模块


- [ ] 获取句柄后遮挡问题待处理



```
# 项目的入口，负责把 core（核心逻辑）和 data（数据配置）拧成一股绳。

# 从 data/config.py 读取游戏叫什么名字。

  

# 从 core/capture.py 实例化（创建）那个“照相机”对象。

  

# 启动一个死循环，像视频里那样不停地“抓图”并“展示”

  

# 导入区

import cv2  # 作用：OpenCV 库，这里用来弹出一个窗口显示我们抓到的画面

import time # 作用：用来控制两次抓图之间休息多久

from data.config import TARGET_TITLE, CAPTURE_INTERVAL # 作用：从配置文件夹读取游戏名和采样频率

from core.capture import WindowCapturer # 作用：从核心逻辑文件夹导入我们写好的“照相机”类

  

def start_assistant():

    """

    函数作用：启动辅助程序的指挥部

    """

    # 步骤 1: 准备好“照相机”。

    # 我们把从 config.py 读到的游戏名传给它。

    camera = WindowCapturer(TARGET_TITLE)

    print(f"--- 辅助已启动，正在寻找窗口: {TARGET_TITLE} ---")

    print("提示：按键盘上的 'q' 键可以退出程序")

  

    # 步骤 2: 进入死循环。

    # 就像视频里那样，只要你不按退出键，它就一直运行。

    while True:

        # 步骤 3: 让照相机拍一张照片。

        # frame（帧）变量里存的就是现在的游戏画面数据。

        frame = camera.capture()

  

        # 步骤 4: 逻辑判定。

        # 如果 frame 不为空 (None)，说明拍到照片了。

        if frame is not None:

            # 使用 OpenCV 弹出一个叫 "GooseMind_Vision" 的窗口展示这张照片。

            # 这是为了让你亲眼看到辅助“看”到了什么，确保没有延迟。

            cv2.imshow("GooseMind_Vision", frame)

        else:

            # 如果拍不到，说明游戏可能关了或者被最小化了。

            print("\r等待游戏窗口出现...", end="")

  

        # 步骤 5: 控制节奏与退出。

        # cv2.waitKey(1) 意思是在这停留 1 毫秒看你有没有按键盘。

        # 如果你按了 'q' (Quit)，就跳出循环，结束程序。

        if cv2.waitKey(1) & 0xFF == ord('q'):

            break

        # 步骤 6: 休息一下。

        # 按照 config.py 里的 0.01 秒进行微小休眠，防止 CPU 烧冒烟。

        time.sleep(CAPTURE_INTERVAL)

  

    # 步骤 7: 善后工作。

    # 退出循环后，把弹出的显示窗口关掉。

    cv2.destroyAllWindows()

    print("\n--- 辅助已安全退出 ---")

  

# 程序的启动点

if __name__ == "__main__":

    start_assistant()
```