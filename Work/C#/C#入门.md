---
title: C#å…¥é—¨
category: C#
tags: C#å…¥é—¨
updatedAt: 2025-10-05T05:05:09.713Z
createdAt: 2025-09-22T02:44:16.975Z
---
#æ ‡ç­¾/C/a
##### æ•°å€¼ç±»å‹ä¸€è§ˆè¡¨

| ç±»å‹       | ä½æ•°  | è®°å¿†æŠ€å·§               | å–å€¼èŒƒå›´                                                   |
| -------- | --- | ------------------ | ------------------------------------------------------ |
| `sbyte`  | 8ä½  | **-128åˆ°127** (èƒŒä¸‹æ¥) | -128 ~ 127                                             |
| `byte`   | 8ä½  | **0åˆ°255** (RGBé¢œè‰²)  | 0 ~ 255                                                |
| `short`  | 16ä½ | **Â±3ä¸‡** (çº¦32K)     | -32,768 ~ 32,767                                       |
| `ushort` | 16ä½ | **6ä¸‡5** (ç«¯å£å·)      | 0 ~ 65,535                                             |
| `int`    | 32ä½ | **Â±21äº¿** (åœ°çƒäººå£)    | -2,147,483,648 ~ 2,147,483,647                         |
| `uint`   | 32ä½ | **42äº¿** (åŒå€int)    | 0 ~ 4,294,967,295                                      |
| `long`   | 64ä½ | **Â±922äº¬** (å¤©æ–‡æ•°å­—)   | -9,223,372,036,854,775,808 ~ 9,223,372,036,854,775,807 |
| `ulong`  | 64ä½ | **1844äº¬** (åŒå€long) | 0 ~ 18,446,744,073,709,551,615                         |

**"128-255, 3ä¸‡-6ä¸‡, 21äº¿-42äº¿, äº¬çº§åˆ«, decimalç®¡é’±"** *ğŸ¯*
<!-- more -->

###### æœ‰ç¬¦å·æ•´æ•°ç±»å‹

| ç±»å‹    | .NETç±»å‹       | å–å€¼èŒƒå›´                                                | ä½æ•° | å­—èŠ‚æ•° |
| ------- | -------------- | ------------------------------------------------------- | ---- | ------ |
| `sbyte` | `System.SByte` | -128 åˆ° 127                                             | 8    | 1      |
| `short` | `System.Int16` | -32,768 åˆ° 32,767                                       | 16   | 2      |
| `int`   | `System.Int32` | -2,147,483,648 åˆ° 2,147,483,647                         | 32   | 4      |
| `long`  | `System.Int64` | -9,223,372,036,854,775,808 åˆ° 9,223,372,036,854,775,807 | 64   | 8      |



###### æ— ç¬¦å·æ•´æ•°ç±»å‹

| ç±»å‹     | .NETç±»å‹        | å–å€¼èŒƒå›´                        | ä½æ•° | å­—èŠ‚æ•° |                                              |
| -------- | --------------- | ------------------------------- | ---- | ------ | -------------------------------------------- |
| `byte`   | `System.Byte`   | 0 åˆ° 255                        | 8    | 1      | 2^8  = 256<br />ä¸Šé™ï¼ŒRGBé¢œè‰²å€¼æœ€å¤§å€¼        |
| `ushort` | `System.UInt16` | 0 åˆ° 65,535                     | 16   | 2      | 2^16 = 65,536 (6ä¸‡5)  <br />ä¸Šé™ï¼Œç«¯å£å·èŒƒå›´ |
| `uint`   | `System.UInt32` | 0 åˆ° 4,294,967,295              | 32   | 4      | 2^32 = 4,294,967,296 (42äº¿9åƒä¸‡)             |
| `ulong`  | `System.UInt64` | 0 åˆ° 18,446,744,073,709,551,615 | 64   | 8      | 2^64 = 18,446,744,073,709,551,616 (1844äº¬)   |

###### ä½¿ç”¨ç¤ºä¾‹

```csharp
// æœ‰ç¬¦å·ç±»å‹
sbyte sb = -128;
short s = -32768;
int i = -2147483648;
long l = -9223372036854775808L;

// æ— ç¬¦å·ç±»å‹
byte b = 255;
ushort us = 65535;
uint ui = 4294967295U;
ulong ul = 18446744073709551615UL;

//æµ®ç‚¹å‹
decimal price = 19.99m;  // å•†å“ä»·æ ¼ï¼Œéœ€è¦ç²¾ç¡®
```

###### æ³¨æ„äº‹é¡¹

- **é»˜è®¤ç±»å‹**: æ•´æ•°å­—é¢é‡é»˜è®¤ä¸º `int` ç±»å‹
- **åç¼€æ ‡è¯†**: 
  - `L` æˆ– `l`: long ç±»å‹
  - `U` æˆ– `u`: uint ç±»å‹
  - `UL` æˆ– `ul`: ulong ç±»å‹
- **æº¢å‡ºæ£€æŸ¥**: ä½¿ç”¨ `checked` å…³é”®å­—å¯ä»¥æ£€æŸ¥æº¢å‡º
- **æ€§èƒ½**: `int` é€šå¸¸æ˜¯æ€§èƒ½æœ€ä½³çš„æ•´æ•°ç±»å‹



##### æº¢å‡º

```
æ—¶é’Ÿåªæœ‰ 12 ä¸ªæ•°å­— (0-11 æˆ– 1-12)
å½“å‰æ—¶é—´ï¼š11ç‚¹
è¿‡1å°æ—¶åï¼š12ç‚¹ âœ… æ­£å¸¸
è¿‡2å°æ—¶åï¼š1ç‚¹  â† è·³å›å¼€å¤´ï¼

è®¡ç®—æœºä¹Ÿä¸€æ ·ï¼š
byte åªæœ‰ 256 ä¸ªæ•°å­— (0-255)  
å½“å‰æ•°å€¼ï¼š255
åŠ 1åï¼š0     â† è·³å›å¼€å¤´ï¼
```

**"æ»¡äº†å°±å½’é›¶ï¼Œæœ€å¤§å˜æœ€å°"** *ğŸ”„*

```
byte:    255 + 1 = 0       (æ»¡äº†å½’é›¶)
int:     æœ€å¤§å€¼ + 1 = æœ€å°å€¼  (æ»¡äº†å˜æœ€å°)
sbyte:   127 + 1 = -128    (æ»¡äº†å˜æœ€å°)
```

å¯ä»¥é€šè¿‡checkedè§£å†³

```
int max = int.MaxValue;
int result1 = max + 1;           // é™é»˜æº¢å‡º
int result2 = checked(max + 1);  // ğŸ’¥ OverflowException
```



##### æ•°æ®è½¬æ¢-éšå¼ 

åŒç±»å‹å¤§èŒƒå›´è£…å°èŒƒå›´

- æœ‰ç¬¦å·ï¼šlong -> int -> short -> sbyte

- æ— ç¬¦å·ï¼šulong -> uint -> ushort -> byte

decimalç±»å‹ï¼Œæ²¡åŠæ³•éšå¼è½¬æ¢æˆdouble å’Œfloatã€‚å¯ä»¥éšå¼çš„è£…æ•´å‹

- æµ®ç‚¹å‹ï¼šdouble -> float ->  æ‰€æœ‰æ•´å‹ï¼ˆæœ‰ç¬¦å·ï¼Œæ— ç¬¦å·ï¼‰
- decimal -> æ‰€æœ‰æ•´å‹ï¼ˆæœ‰ç¬¦å·ï¼Œæ— ç¬¦å·ï¼‰

ä¸åŒç±»å‹

- æ— ç¬¦å·çš„ æ— æ³• éšå¼è½¬æ¢æˆæœ‰ç¬¦å·çš„ï¼Œ
- æœ‰ç¬¦å·çš„å¤§èŒƒå›´å¯ä»¥è£…æœ‰ç¬¦å·çš„ åˆ™å¯ä»¥è½¬æ¢
- æµ®ç‚¹æ•°å¯ä»¥è£…è½½ä»»ä½•ç±»å‹çš„æ•´æ•°



| è½¬æ¢ç±»å‹      | å®‰å…¨æ€§     | æ„å›¾æ˜ç¡®æ€§       | C# å†³ç­–  |
| ------------- | ---------- | ---------------- | -------- |
| char â†’ int    | âœ… å®¹å™¨æ›´å¤§ | âœ… æ˜æ˜¾æ˜¯æ•°å€¼æå‡ | å…è®¸éšå¼ |
| char â†’ long   | âœ… å®¹å™¨æ›´å¤§ | âœ… æ˜æ˜¾æ˜¯æ•°å€¼æå‡ | å…è®¸éšå¼ |
| char â†’ ushort | âœ… æŠ€æœ¯å®‰å…¨ | âŒ æ„å›¾ä¸æ˜ç¡®     | è¦æ±‚æ˜¾å¼ |

è™½ç„¶ `char` å’Œ `ushort` åœ¨å†…å­˜ä¸­å®Œå…¨ä¸€æ ·ï¼ˆéƒ½æ˜¯16ä½æ— ç¬¦å·æ•´æ•°ï¼‰ï¼Œä½† **C# æŠŠå®ƒä»¬å½“ä½œä¸åŒçš„ç±»å‹**ï¼

```
char c = 'A';
ushort us = c;    // å³ä½¿æŠ€æœ¯å¯è¡Œï¼Œè¯­ä¹‰ä¸æ˜ç¡®

// é—®é¢˜ï¼šè¿™æ˜¯æŠŠå­—ç¬¦å½“æ•°å­—ç”¨ï¼Ÿè¿˜æ˜¯æ„å¤–çš„ç±»å‹æ··æ·†ï¼Ÿ
// C# è¯´ï¼šæˆ‘ä¸ç¡®å®šä½ çš„æ„å›¾ï¼Œè¯·æ˜ç¡®è¯´æ˜ï¼


char c = 'A';     // 65
int i = c;        // 65 (æ›´å¤§çš„å®¹å™¨)

// åŸç†ï¼šå°æ¯å­çš„æ°´å€’è¿›å¤§æ¯å­ï¼Œç»å¯¹å®‰å…¨ï¼
// 16ä½çš„å€¼æ”¾è¿›32ä½çš„ç©ºé—´ï¼Œä¸ä¼šæœ‰ä»»ä½•é—®é¢˜
```

##### region

`#region` å’Œ `#endregion` æ˜¯ C# ä¸­çš„**é¢„å¤„ç†æŒ‡ä»¤**ï¼Œç”¨äºä»£ç çš„ç»„ç»‡å’ŒæŠ˜å ã€‚

```
#region åŒºåŸŸåç§°
// è¿™é‡Œæ”¾ç½®ç›¸å…³çš„ä»£ç 
#endregion
```

##### å­—ç¬¦ä¸²æ’å€¼ $""

```
string name = "å°æ˜";
int age = 18;

// ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼
string message = $"æˆ‘å«{name}ï¼Œä»Šå¹´{age}å²";
Console.WriteLine(message); // è¾“å‡ºï¼šæˆ‘å«å°æ˜ï¼Œä»Šå¹´18å²
```

###### å¯ä»¥åœ¨{}é‡Œå†™è¡¨è¾¾å¼

```
int x = 10;
int y = 20;

Console.WriteLine($"10åŠ 20ç­‰äº{x + y}");        // âœ… è¾“å‡ºï¼š10åŠ 20ç­‰äº30
Console.WriteLine($"10ä¹˜20ç­‰äº{x * y}");        // âœ… è¾“å‡ºï¼š10ä¹˜20ç­‰äº200
Console.WriteLine($"ç°åœ¨æ˜¯{DateTime.Now}");     // âœ… è¾“å‡ºå½“å‰æ—¶é—´
```

######  æ ¼å¼åŒ–ï¼šåœ¨{}é‡Œç”¨å†’å·:

```
{å˜é‡:æ ¼å¼}


DateTime today = DateTime.Now;
Console.WriteLine($"å®Œæ•´æ—¶é—´ï¼š{today}");                    // 2024/1/15 14:30:25
Console.WriteLine($"åªè¦æ—¥æœŸï¼š{today:yyyy-MM-dd}");        // 2024-01-15
Console.WriteLine($"ä¸­æ–‡æ—¥æœŸï¼š{today:yyyyå¹´MMæœˆddæ—¥}");     // 2024å¹´01æœˆ15æ—¥

double num = 1234.567;
Console.WriteLine($"{num:F2}");  // 1234.57ï¼ˆ2ä½å°æ•°ï¼‰
Console.WriteLine($"{num:C}");   // ï¿¥1,234.57ï¼ˆè´§å¸ï¼‰
Console.WriteLine($"{num:N}");   // 1,234.57ï¼ˆåƒåˆ†ä½é€—å·ï¼‰
Console.WriteLine($"{num:P}");   // 123,456.70%ï¼ˆç™¾åˆ†æ¯”ï¼‰
```



##### æ•°æ®è½¬æ¢-æ˜¾å¼

###### 1.æ‹¬å·å¼ºè½¬

æ³¨æ„ä¼šå­˜åœ¨æº¢å‡ºé—®é¢˜ã€ç²¾åº¦é—®é¢˜

æµ®ç‚¹å‹è½¬ æ•´å‹ä¼šç›´æ¥æŠŠå°æ•° ä½æŠ›å¼ƒ

bool å’Œ string ç±»å‹ä¸æ”¯æŒæ‹¬å·å¼ºè½¬

###### 2.Parse æ–¹æ³•

æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆå…¶ä»–æ•°æ®ç±»å‹

åŸºæœ¬è¯­æ³•ï¼š**æ•°æ®ç±»å‹.Parse(å­—ç¬¦ä¸²)**

```
//int.Parse() - è½¬æ¢æˆæ•´æ•°
string str1 = "123";
int num1 = int.Parse(str1);    // 123

//double.Parse() - è½¬æ¢æˆå°æ•°
string str1 = "3.14";
double num1 = double.Parse(str1);  // 3.14

//bool.Parse() - è½¬æ¢æˆå¸ƒå°”å€¼
string str1 = "true";
bool flag1 = bool.Parse(str1);  // true

//DateTime.Parse() - è½¬æ¢æˆæ—¥æœŸ
string str1 = "2024-01-15";
DateTime date1 = DateTime.Parse(str1);  // 2024å¹´1æœˆ15æ—¥
```

æ³¨æ„æ•°æ®ç±»å‹éœ€è¦ä¸å­—ç¬¦ä¸²è½¬çš„ç±»å‹ä¿æŒä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨TryParesï¼ˆï¼‰ ä¿è¯å®‰å…¨

```
Console.WriteLine("è¯·è¾“å…¥æ•°å­—ï¼š");
string input = Console.ReadLine();

bool success = int.TryParse(input, out int number);
//     â†‘                          â†‘
//   æ˜¯å¦æˆåŠŸï¼Ÿ                 è½¬æ¢ç»“æœ

if (success) 
{
    Console.WriteLine($"è½¬æ¢æˆåŠŸï¼æ•°å­—æ˜¯ï¼š{number}");
}
else 
{
    Console.WriteLine("è½¬æ¢å¤±è´¥ï¼è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—ã€‚");
}


// double.TryParse
bool success1 = double.TryParse("3.14", out double d);

// bool.TryParse  
bool success2 = bool.TryParse("true", out bool b);

// DateTime.TryParse
bool success3 = DateTime.TryParse("2024-01-15", out DateTime dt);


```

###### 3.Convert æ–¹æ³•

Convert = è½¬æ¢

ç®€å•è¯´ï¼šä¸€ä¸ªä¸“é—¨åšç±»å‹è½¬æ¢çš„å·¥å…·ç®±ï¼Œæ¯” Parse æ›´å¼ºå¤§ï¼

å°±åƒï¼š

Parse æ˜¯"ä¸“ç”¨å·¥å…·"ï¼ˆåªèƒ½ å­—ç¬¦ä¸²â†’å…¶ä»–ç±»å‹ï¼‰
Convert æ˜¯"ä¸‡èƒ½å·¥å…·ç®±"ï¼ˆå‡ ä¹ä»»ä½•ç±»å‹éƒ½èƒ½äº’ç›¸è½¬æ¢ï¼‰

åŸºæœ¬è¯­æ³•ï¼š**Convert.Toç›®æ ‡ç±»å‹(è¦è½¬æ¢çš„å€¼)**

```
// ä»å­—ç¬¦ä¸²è½¬æ¢
int num1 = Convert.ToInt32("123");      // 123
int num2 = Convert.ToInt32("-456");     // -456

// ä»å°æ•°è½¬æ¢ï¼ˆå››èˆäº”å…¥ï¼‰
int num3 = Convert.ToInt32(12.3);       // 12
int num4 = Convert.ToInt32(12.7);       // 13
int num5 = Convert.ToInt32(12.5);       // 12ï¼ˆå¶æ•°èˆå…¥ï¼‰

// å¸ƒå°”å€¼â†’æ•´æ•°ï¼ˆtrue=1, false=0ï¼‰
int num6 = Convert.ToInt32(true);       // 1
int num7 = Convert.ToInt32(false);      // 0

Console.WriteLine($"12.7è½¬æ•´æ•°ï¼š{num4}");  // è¾“å‡ºï¼š12.7è½¬æ•´æ•°ï¼š13

```

1. Convert.ToInt32() - è½¬æ¢æˆæ•´æ•°

2. Convert.ToDouble() - è½¬æ¢æˆå°æ•°

3. Convert.ToString() - è½¬æ¢æˆå­—ç¬¦ä¸²
4.  Convert.ToBoolean() - è½¬æ¢æˆå¸ƒå°”å€¼
5. Convert.ToDateTime() - è½¬æ¢æˆæ—¥æœŸ

| æ–¹æ³•         | è¾“å…¥ç±»å‹     | å®‰å…¨æ€§           | nullå¤„ç†   | ç‰¹ç‚¹       |
| ------------ | ------------ | ---------------- | ---------- | ---------- |
| **Parse**    | åªèƒ½å­—ç¬¦ä¸²   | ä¸å®‰å…¨ï¼ˆä¼šå´©æºƒï¼‰ | å´©æºƒ       | ä¸“ç”¨ï¼Œå¿«é€Ÿ |
| **TryParse** | åªèƒ½å­—ç¬¦ä¸²   | å®‰å…¨             | è¿”å›false  | ä¸“ç”¨ï¼Œå®‰å…¨ |
| **Convert**  | å‡ ä¹ä»»ä½•ç±»å‹ | ä¸å®‰å…¨ï¼ˆä¼šå´©æºƒï¼‰ | è¿”å›é»˜è®¤å€¼ | ä¸‡èƒ½ï¼Œçµæ´» |

###### 4.ToString() æ–¹æ³•

**ToString()** = è½¬æ¢æˆå­—ç¬¦ä¸²

åŸºæœ¬è¯­æ³•ï¼šå¯¹è±¡.ToString()

```
ToString() æ–¹æ³•ï¼š
int number = 123;
string result = number.ToString();  // "123"

Convert.ToString()ï¼š
int number = 123;
string result = Convert.ToString(number);  // "123"

ä¸»è¦åŒºåˆ«ï¼šnull å¤„ç†
string nullString = null;

// ToString() ä¼šå´©æºƒ
// string result1 = nullString.ToString();  // âŒ å´©æºƒï¼ç©ºå¼•ç”¨å¼‚å¸¸

// Convert.ToString() å®‰å…¨
string result2 = Convert.ToString(nullString);  // âœ… è¿”å› ""ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰

Console.WriteLine($"ç»“æœï¼š'{result2}'");  // è¾“å‡ºï¼šç»“æœï¼š''

```

| ç±»å‹         | é»˜è®¤æ ¼å¼             | å¸¸ç”¨è‡ªå®šä¹‰æ ¼å¼ | ç¤ºä¾‹         |
| ------------ | -------------------- | -------------- | ------------ |
| **int**      | "123"                | "D4"ï¼ˆè¡¥é›¶ï¼‰   | "0123"       |
| **double**   | "3.14159"            | "F2"ï¼ˆå°æ•°ä½ï¼‰ | "3.14"       |
| **double**   | "1234.56"            | "C"ï¼ˆè´§å¸ï¼‰    | "Â¥1,234.56"  |
| **double**   | "0.85"               | "P"ï¼ˆç™¾åˆ†æ¯”ï¼‰  | "85.00%"     |
| **DateTime** | "2024/1/15 14:30:45" | "yyyy-MM-dd"   | "2024-01-15" |
| **bool**     | "True"/"False"       | æ— ç‰¹æ®Šæ ¼å¼     | "True"       |

ToString() çš„æ ¼å¼åŒ–ï¼ˆé‡è¦ï¼ï¼‰

```
æ•°å­—æ ¼å¼åŒ–

double number = 1234.5678;

// åŸºæœ¬è½¬æ¢
string str1 = number.ToString();              // "1234.5678"

// æŒ‡å®šå°æ•°ä½æ•°
string str2 = number.ToString("F2");          // "1234.57"ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰
string str3 = number.ToString("F0");          // "1235"ï¼ˆæ— å°æ•°ä½ï¼Œå››èˆäº”å…¥ï¼‰

// è´§å¸æ ¼å¼
string str4 = number.ToString("C");           // "Â¥1,234.57"ï¼ˆè´§å¸æ ¼å¼ï¼‰

// ç™¾åˆ†æ¯”æ ¼å¼
double percent = 0.85;
string str5 = percent.ToString("P");          // "85.00%"

// å¸¦åƒä½åˆ†éš”ç¬¦
int bigNumber = 1234567;
string str6 = bigNumber.ToString("N");        // "1,234,567.00"

Console.WriteLine($"ä¿ç•™2ä½å°æ•°ï¼š{str2}");        // è¾“å‡ºï¼šä¿ç•™2ä½å°æ•°ï¼š1234.57
Console.WriteLine($"è´§å¸æ ¼å¼ï¼š{str4}");          // è¾“å‡ºï¼šè´§å¸æ ¼å¼ï¼šÂ¥1,234.57
Console.WriteLine($"ç™¾åˆ†æ¯”æ ¼å¼ï¼š{str5}");        // è¾“å‡ºï¼šç™¾åˆ†æ¯”æ ¼å¼ï¼š85.00%

```

```
æ—¥æœŸæ ¼å¼åŒ–

DateTime date = new DateTime(2024, 1, 15, 14, 30, 45);

// åŸºæœ¬è½¬æ¢
string str1 = date.ToString();                    // "2024/1/15 14:30:45"

// è‡ªå®šä¹‰æ ¼å¼
string str2 = date.ToString("yyyyå¹´MMæœˆddæ—¥");      // "2024å¹´01æœˆ15æ—¥"
string str3 = date.ToString("yyyy-MM-dd");        // "2024-01-15"
string str4 = date.ToString("HH:mm:ss");          // "14:30:45"
string str5 = date.ToString("yyyyå¹´MMæœˆddæ—¥ HH:mm"); // "2024å¹´01æœˆ15æ—¥ 14:30"

// é¢„å®šä¹‰æ ¼å¼
string str6 = date.ToString("D");                 // "2024å¹´1æœˆ15æ—¥"ï¼ˆé•¿æ—¥æœŸï¼‰
string str7 = date.ToString("T");                 // "14:30:45"ï¼ˆé•¿æ—¶é—´ï¼‰

Console.WriteLine($"ä¸­æ–‡æ—¥æœŸï¼š{str2}");             // è¾“å‡ºï¼šä¸­æ–‡æ—¥æœŸï¼š2024å¹´01æœˆ15æ—¥
Console.WriteLine($"æ ‡å‡†æ—¥æœŸï¼š{str3}");             // è¾“å‡ºï¼šæ ‡å‡†æ—¥æœŸï¼š2024-01-15
Console.WriteLine($"æ—¶é—´ï¼š{str4}");               // è¾“å‡ºï¼šæ—¶é—´ï¼š14:30:45


```



##### å¼‚å¸¸æ•è·

try-catch åŸºæœ¬ç»“æ„

```
try
{
    // å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç 
}
catch (å¼‚å¸¸ç±»å‹ å˜é‡å)
{
    // å¤„ç†å¼‚å¸¸çš„ä»£ç 
}
finally //å¯é€‰éƒ¨åˆ†
{
	//æ€»æ˜¯æ‰§è¡Œï¼ˆæ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸ï¼‰å¸¸ç”¨äºèµ„æºæ¸…ç†
}
//ç»“æ„ä¸éœ€è¦åŠ åˆ†å·ï¼›

```

å®Œæ•´çš„å¼‚å¸¸å¤„ç†ç»“æ„

```
try
{
    // å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç 
}
catch (å…·ä½“å¼‚å¸¸ç±»å‹1 ex)
{
    // å¤„ç†ç‰¹å®šå¼‚å¸¸
}
catch (å…·ä½“å¼‚å¸¸ç±»å‹2 ex)
{
    // å¤„ç†å¦ä¸€ç§å¼‚å¸¸
}
catch (Exception ex)
{
    // å¤„ç†æ‰€æœ‰å…¶ä»–å¼‚å¸¸
}
finally
{
    // æ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œçš„ä»£ç 
}

```

##### è¿ç®—ç¬¦

###### è‡ªå¢

```
int a = 5;
int x = ++a; // aå…ˆå˜6ï¼Œxå¾—åˆ°6
int y = a++; // yå…ˆå¾—åˆ°6ï¼Œaåå˜7
```

###### çŸ­è·¯æ±‚å€¼

```
// âœ… æ­£ç¡®ï¼šå…ˆåˆ¤æ–­ä¸ä¸ºç©ºï¼Œå†è®¿é—®å±æ€§
if (obj != null && obj.Property > 0)

// âœ… æ­£ç¡®ï¼šå…ˆåˆ¤æ–­æœ‰æƒé™ï¼Œå†æ‰§è¡Œæ“ä½œ  
if (user.IsAdmin && user.CanDelete && DeleteFile())

// âœ… æ­£ç¡®ï¼šå…ˆåˆ¤æ–­ç´¢å¼•æœ‰æ•ˆï¼Œå†è®¿é—®æ•°ç»„
if (index >= 0 && index < array.Length && array[index] > 0)

```

ä¾‹å­ï¼š

```
// ç”¨æˆ·ç™»å½•æ£€æŸ¥
bool canLogin = user != null &&           // å…ˆæ£€æŸ¥ç”¨æˆ·å­˜åœ¨
                user.IsActive &&          // å†æ£€æŸ¥æ˜¯å¦æ¿€æ´»  
                user.Password == inputPwd && // å†æ£€æŸ¥å¯†ç 
                !user.IsLocked;           // æœ€åæ£€æŸ¥æ˜¯å¦é”å®š

// å¦‚æœuserä¸ºnullï¼Œåé¢çš„æ£€æŸ¥éƒ½ä¸ä¼šæ‰§è¡Œï¼Œé¿å…äº†å¼‚å¸¸ï¼

```

###### ä½è¿ç®—ç¬¦ï¼š

- & (æŒ‰ä½ä¸)ï¼šä¸¤ä½éƒ½æ˜¯1æ‰æ˜¯1
- | (æŒ‰ä½æˆ–)ï¼šæœ‰ä¸€ä½æ˜¯1å°±æ˜¯1
- ^ (æŒ‰ä½å¼‚æˆ–)ï¼šä¸¤ä½ä¸åŒæ‰æ˜¯1
- ~ (æŒ‰ä½å–å)ï¼š0å˜1ï¼Œ1å˜0





è®¡ç®—æœºåªè®¤è¯†ä¸¤ç§çŠ¶æ€ï¼š

- 1 = æœ‰ç”µ/å¼€/æ˜¯/çœŸ
- 0 = æ²¡ç”µ/å…³/å¦/å‡

###### æƒé™æ•°å€¼å¯¹ç…§è¡¨

| æƒé™åç§°   | æ•°å€¼ | äºŒè¿›åˆ¶ | è¯´æ˜     |
| ---------- | ---- | ------ | -------- |
| None       | 0    | 0000   | æ— æƒé™   |
| Read       | 1    | 0001   | è¯»æƒé™   |
| Write      | 2    | 0010   | å†™æƒé™   |
| Delete     | 4    | 0100   | åˆ é™¤æƒé™ |
| Admin      | 8    | 1000   | ç®¡ç†æƒé™ |
| ReadWrite  | 3    | 0011   | è¯»+å†™    |
| FullAccess | 15   | 1111   | å…¨æƒé™   |

##### å­—ç¬¦ä¸²æ‹¼æ¥

åŸºæœ¬è¯­æ³•ï¼š

```
string.Format("æ¨¡æ¿å­—ç¬¦ä¸² {0} {1} {2}", å‚æ•°0, å‚æ•°1, å‚æ•°2)
```

ä¾‹å­

```
string name = "å¼ ä¸‰";
int age = 25;
string result = string.Format("æˆ‘å«{0}ï¼Œä»Šå¹´{1}å²", name, age);
// è¾“å‡ºï¼šæˆ‘å«å¼ ä¸‰ï¼Œä»Šå¹´25å²
```

##### è¿ç®—ç¬¦

åŸºç¡€ç”¨æ³•

```
// æ›¿ä»£ if-else
int age = 18;
string result = age >= 18 ? "æˆå¹´äºº" : "æœªæˆå¹´";
// è¾“å‡ºï¼šæˆå¹´äºº

// ç­‰ä»·äºï¼š
string result;
if (age >= 18)
    result = "æˆå¹´äºº";
else
    result = "æœªæˆå¹´";

```

è§„åˆ™ 

- !(é€»è¾‘é)ä¼˜å…ˆçº§æœ€é«˜
- &&(é€»è¾‘ä¸)ä¼˜å…ˆçº§é«˜äº||(é€»è¾‘æˆ–)
- é€»è¾‘è¿ç®—ç¬¦ä¼˜å…ˆçº§ ä½äº ç®—æ•°è¿ç®—ç¬¦ ï¼Œæ¡ä»¶è¿ç®—ç¬¦(é€»è¾‘éé™¤å¤–)

###### ä½è¿ç®—ç¬¦

| ç¬¦å·   | åç§°   | ä½œç”¨      | ç¤ºä¾‹            |     |        |
| ---- | ---- | ------- | ------------- | --- | ------ |
| `&`  | æŒ‰ä½ä¸  | éƒ½æ˜¯1æ‰æ˜¯1  | `5 & 3 = 1`   |     |        |
| `    | `    | æŒ‰ä½æˆ–     | æœ‰1å°±æ˜¯1         | `5  | 3 = 7` |
| `^`  | æŒ‰ä½å¼‚æˆ– | ä¸åŒä¸º1    | `5 ^ 3 = 6`   |     |        |
| `~`  | æŒ‰ä½å–å | 0å˜1ï¼Œ1å˜0 | `~5 = -6`     |     |        |
| `<<` | å·¦ç§»   | å‘å·¦ç§»ä½    | `5 << 1 = 10` |     |        |
| `>>` | å³ç§»   | å‘å³ç§»ä½    | `5 >> 1 = 2`  |     |        |

##### forå¾ªç¯

```
for (int i = 0; i < 5; i++)
{
    Console.WriteLine($"ç¬¬{i+1}æ¬¡å¾ªç¯");
}
```

æ‰§è¡Œé¡ºåºï¼š

åˆå§‹åŒ– (int i = 0) - åªæ‰§è¡Œä¸€æ¬¡
åˆ¤æ–­æ¡ä»¶ (i < 5) - æ¯æ¬¡å¾ªç¯å‰æ£€æŸ¥
æ‰§è¡Œå¾ªç¯ä½“ - æ¡ä»¶ä¸ºçœŸæ—¶æ‰§è¡Œ
è¿­ä»£ (i++) - å¾ªç¯ä½“æ‰§è¡Œåæ‰§è¡Œ
å›åˆ°æ­¥éª¤2



###### foreach vs for

```
int[] numbers = {1, 2, 3, 4, 5};

// forå¾ªç¯ - å¯ä»¥è·å–ç´¢å¼•ï¼Œå¯ä»¥ä¿®æ”¹
for (int i = 0; i < numbers.Length; i++)
{
    numbers[i] *= 2; // å¯ä»¥ä¿®æ”¹
    Console.WriteLine($"ç´¢å¼•{i}: {numbers[i]}");
}

// foreachå¾ªç¯ - æ›´ç®€æ´ï¼Œåªè¯»éå†
foreach (int num in numbers)
{
    Console.WriteLine(num); // åªèƒ½è¯»å–
}

```
#### C#å…¥é—¨å®è·µ

##### ReadKey å’Œ KeyChar

Console.ReadKey() ç”¨äºè¯»å–ç”¨æˆ·æŒ‰ä¸‹çš„å•ä¸ªæŒ‰é”®ï¼ŒKeyChar æ˜¯è·å–æŒ‰é”®å¯¹åº”çš„å­—ç¬¦ã€‚

###### ReadKey åŸºç¡€

è¯­æ³•ï¼šConsoleKeyInfo keyInfo = Console.ReadKey();

åŸºæœ¬ç”¨æ³•

```
Console.WriteLine("è¯·æŒ‰ä»»æ„é”®:");
ConsoleKeyInfo key = Console.ReadKey();
Console.WriteLine($"\nä½ æŒ‰ä¸‹äº†: {key.Key}");
```

###### ReadKey çš„ä¸‰ç§å½¢å¼

ReadKey() - æ˜¾ç¤ºæŒ‰é”®

ReadKey(true) - éšè—æŒ‰é”®

KeyChar è·å–æŒ‰é”®å¯¹åº”çš„å­—ç¬¦å€¼

```
ConsoleKeyInfo key = Console.ReadKey();

Console.WriteLine($"æŒ‰é”®: {key.Key}");        // æŒ‰é”®åç§°
Console.WriteLine($"å­—ç¬¦: {key.KeyChar}");    // å¯¹åº”å­—ç¬¦
Console.WriteLine($"ASCII: {(int)key.KeyChar}"); // ASCIIç 
```

###### å¸¸ç”¨æŒ‰é”®æšä¸¾

```
ConsoleKey.Enter       // å›è½¦
ConsoleKey.Escape      // ESC
ConsoleKey.Backspace   // é€€æ ¼
ConsoleKey.Delete      // åˆ é™¤
ConsoleKey.Tab         // Tab
ConsoleKey.Spacebar    // ç©ºæ ¼
ConsoleKey.UpArrow     // ä¸Šç®­å¤´
ConsoleKey.DownArrow   // ä¸‹ç®­å¤´
ConsoleKey.LeftArrow   // å·¦ç®­å¤´
ConsoleKey.RightArrow  // å³ç®­å¤´
ConsoleKey.F1          // F1åŠŸèƒ½é”®
// ... F2-F12

```

##### æ§åˆ¶å°çª—å£è®¾ç½®

ç¼“å†²åŒºå¤§å°å¿…é¡» â‰¥ çª—å£å¤§å°



###### Windows æ§åˆ¶å°çš„çº¦æŸï¼š

çª—å£ä¸èƒ½å¤§äºç¼“å†²åŒº - ä½ ä¸èƒ½çœ‹åˆ°æ¯”å®é™…å­˜åœ¨æ›´å¤šçš„å†…å®¹
ç¼“å†²åŒºä¸èƒ½å°äºçª—å£ - ä¸èƒ½åˆ é™¤æ­£åœ¨æ˜¾ç¤ºçš„å†…å®¹

```
try
{
    // å…ˆè®¾ç½®ç¼“å†²åŒºå¤§å°ï¼Œå†è®¾ç½®çª—å£å¤§å°
    Console.SetBufferSize(200, 40);  // ç¼“å†²åŒºè¦ >= çª—å£å¤§å°
    Console.SetWindowSize(180, 40);  // ç„¶åè®¾ç½®çª—å£å¤§å°
    Console.WriteLine("çª—å£å¤§å°è®¾ç½®æˆåŠŸï¼");
}
catch (Exception ex)
{
    Console.WriteLine($"è®¾ç½®å¤±è´¥: {ex.Message}");
}
// æ£€æŸ¥å½“å‰æ§åˆ¶å°ä¿¡æ¯
Console.WriteLine($"å½“å‰çª—å£: {Console.WindowWidth} x {Console.WindowHeight}");
Console.WriteLine($"å½“å‰ç¼“å†²åŒº: {Console.BufferWidth} x {Console.BufferHeight}");
Console.WriteLine($"æœ€å¤§çª—å£: {Console.LargestWindowWidth} x {Console.LargestWindowHeight}");
```

######  æ¸…ç©ºæ§åˆ¶å°

Console.Clear();

###### è®¾ç½®å…‰æ ‡ä½ç½®ï¼š

æ¨ªçºµè·ç¦»ä¸é€š 1y = 2x(ä¸­æ–‡å ä¸¤ä¸ªå­—ç¬¦)

Console.SetCursorPosition( 10,5 );

###### èƒŒæ™¯é¢œè‰²è®¾ç½®

```
 Console.BackgroundColor = ConsoleColor.Blue;
 Console.Clear();
```

###### æ–‡å­—é¢œè‰²è®¾ç½®

```
Console.ForegroundColor = ConsoleColor.Red;
```

###### å…‰æ ‡æ˜¾éš

```
Console.CursorVisible = false;
```

###### å…³é—­æ§åˆ¶å°

```
Environment.Exit(0);
```




